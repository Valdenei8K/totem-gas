<div class="form-wrapper">
  <div class="form">
    <label>Quantidade (litros)</label>
    <input readonly (click)="abrirTeclado('quantidade')" [value]="quantidade || ''" />

    <small>MÃ¡ximo: 500L por abastecimento</small>

    <label>IdentificaÃ§Ã£o do Operador</label>
    <button (click)="identificarOperador()">ðŸ”µ IDENTIFICAR OPERADOR</button>

    <app-avulso-toggle [(ativado)]="modoAvulso" />

    <label>Placa do veÃ­culo</label>
    <input readonly (click)="abrirTeclado('placa')" [value]="placa" placeholder="AAA-0A00" />

    <small>Formato: AAA-0A00 (Mercosul)</small>

    <div class="preco">
      <div class="linha">
        <span>PreÃ§o por litro:</span>
        <strong>R$ {{ preco | number: '1.2-2' }}</strong>
      </div>
      <div class="linha destaque">
        <span>Total:</span>
        <strong>R$ {{ total | number: '1.2-2' }}</strong>
      </div>
    </div>

    <button
      class="start"
      [class.encerrar]="abastecendo"
      [disabled]="!podeIniciar() && !abastecendo"
      (click)="iniciarOuEncerrar()"
    >
      {{ abastecendo ? 'ðŸš« ENCERRAR ABASTECIMENTO' : 'â›½ INICIAR ABASTECIMENTO' }}
    </button>
  </div>
</div>

<app-keyboard
  *ngIf="campoAtivo"
  class="teclado-flutuante"
  [tipo]="campoAtivo"
  [valorInicial]="campoAtivo === 'quantidade' ? quantidade.toString() : placa"
  (valorDigitado)="atualizarCampo($event)"
  (fechar)="campoAtivo = null"
/>
